<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Enlistment</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!--this code was made by Nikolai Salvador of Rubidium 29, please dont steal :> -->

<style>
  body {
      margin: 0;
      font-family: serif;
      overflow: hidden;
      background: url("thedoor.jpg") no-repeat center center/cover;
  }

  h1 {
      position: absolute;
      top: 15%;
      width: 100%;
      text-align: center;
      color: white;
      font-weight: normal;
      font-size: clamp(22px, 4vw, 40px);
      text-shadow: 0 0 10px black;
  }

  .split {
      display: flex;
      height: 100vh;
  }

  .left, .right {
      flex: 1;
      cursor: pointer;
      position: relative;
  }

  .choice-text {
      position: absolute;
      bottom: 30px;
      font-size: 14px;
      color: white;
      text-shadow: 0 0 5px black;
      opacity: 0.7;
      transition: 0.2s;
  }

  .left .choice-text {
      left: 30px;
  }

  .right .choice-text {
      right: 30px;
  }

  .left:hover .choice-text,
  .right:hover .choice-text {
      opacity: 1;
  }

  /* Warm fade overlay */
  #warmFade {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgb(32, 24, 21);
      opacity: 0;
      transition: opacity 2s ease;
      pointer-events: none;
      z-index: 998;
  }

  /* Full black overlay */
  #blackout {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      opacity: 0;
      transition: opacity 0.1s ease;
      pointer-events: none;
      z-index: 999;
  }
</style>
</head>

<body>

<h1>
Here it is.<br><br>
The Entrance to the Enlistment building. <br><br>
You can still turn and walk away.<br><br><br>
Is this truly what you want?
</h1>

<div class="split">

  <!-- LEFT: ENLIST -->
  <div class="left" onclick="enterBuilding()">
      <div class="choice-text">Enlist</div>
  </div>

  <!-- RIGHT: REFUSE -->
  <div class="right" onclick="walkAway()">
      <div class="choice-text">Refuse</div>
  </div>

</div>

<!-- Audio -->
<audio id="doorSound">
  <source src="door.wav" type="audio/mpeg">
</audio>

<audio id="footsteps">
  <source src="footsteps.wav" type="audio/mpeg">
</audio>

<!-- Overlays -->
<div id="warmFade"></div>
<div id="blackout"></div>

<script>
function enterBuilding() {
    const door = document.getElementById("doorSound");

    door.play().catch(e => console.log(e));

    setTimeout(() => {
        window.location.href = "training.html";
    }, 3200);
}

function walkAway() {
    const steps = document.getElementById("footsteps");
    const warmFade = document.getElementById("warmFade");
    const blackout = document.getElementById("blackout");

    // Start footsteps
    steps.play().catch(e => console.log(e));

    // Fade into warm eyes-closed overlay over 1s
    warmFade.style.opacity = "0.7";

    // After 25s, cut footsteps, blackout
    setTimeout(() => {
        steps.pause();
        steps.currentTime = 0;
        warmFade.style.opacity = "0"; // fade out warm color
        blackout.style.opacity = "1";   // snap to black
    }, 25000);

    // After 27s (2s black), go to death page
    setTimeout(() => {
        window.location.href = "deathbombed.html";
    }, 27000);
}
</script>

</body>
</html>