<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>0 Day Left</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
      margin: 0;
      background: #1b0f0f;
      color: white;
      font-family: serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      height: 100vh;
      text-align: center;
      cursor: pointer;
      overflow: hidden;
      transition: background 0.5s ease;
  }

  h1 {
      font-weight: normal;
      font-size: clamp(22px, 4vw, 42px);
      line-height: 1.3;
      margin: 0 0 20px 0;
  }

  #suspense {
      transition: color 0.2s ease;
  }

  img {
      max-width: 90%;
      max-height: 60vh;
      border: none;
      border-radius: 8px;
      object-fit: cover;
  }
</style>
</head>
<body>

<h1>
    0 Day Left<br>
    <span id="suspense">Today's the day, look at your family</span>
</h1>

<img src="family.jpg" alt="Family Photo">

<audio id="bgAudio" loop>
    <source src="breathing.mp3" type="audio/mpeg">
</audio>

<audio id="sobAudio">
    <source src="sobbing.mp3" type="audio/mpeg">
</audio>

<script>
const suspenseEl = document.getElementById('suspense');
const audio = document.getElementById('bgAudio');
const sobAudio = document.getElementById('sobAudio');
let firstClick = true;

// ---- Glitching suspense text ----
const normalText = "Today's the day, look at your family";
const glitchText = "HELL IS NEAR";

function glitchMessage() {
    suspenseEl.textContent = glitchText;
    suspenseEl.style.color = "red";
    setTimeout(() => {
        suspenseEl.textContent = normalText;
        suspenseEl.style.color = "white";
    }, 300);
}

setInterval(() => {
    if(Math.random() < 0.5) glitchMessage();
}, 500);

// ---- Click behavior: turns screen black + sobbing audio ----
document.body.addEventListener('click', () => {
    // Play breathing audio if not already playing
    if(firstClick) {
        audio.play().catch(e => console.log("Audio blocked:", e));
        firstClick = false;
    }

    // Immediately turn screen black
    document.body.style.background = "black";

    // Hide all content
    suspenseEl.parentElement.style.display = "none";
    document.querySelector('img').style.display = "none";

    // Play sobbing audio
    sobAudio.play().catch(e => console.log("Audio blocked:", e));

    // After 5 seconds â†’ go to the door/enlistment scene
    setTimeout(() => {
        window.location.href = "thedoor.html"; // change to your actual next file
    }, 5000);
}, {once:true});

</script>
</body>
</html>